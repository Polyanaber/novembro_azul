<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novembro Azul - Ministério da Saúde</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-blue: #1e3a8a;
            --secondary-blue: #3b82f6;
            --light-blue: #dbeafe;
            --accent-blue: #2563eb;
            --dark-blue: #1e40af;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --gray-light: #f8fafc;
            --gray-border: #e2e8f0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f0f8ff 0%, #e6f2ff 100%);
            color: #334155;
            line-height: 1.6;
            min-height: 100vh;
        }

        header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--dark-blue) 100%);
            color: white;
            padding: 25px 0;
            text-align: center;
            box-shadow: 0 4px 12px rgba(30, 58, 138, 0.2);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #60a5fa, #93c5fd, #60a5fa);
        }

        header h1 {
            font-size: 42px;
            margin-bottom: 8px;
            font-weight: 700;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }

        .ministerio {
            font-size: 18px;
            margin-bottom: 15px;
            opacity: 0.9;
            font-weight: 500;
        }

        .ribbon {
            background: rgba(255,255,255,0.1);
            padding: 8px 0;
            font-size: 14px;
            margin-top: 10px;
        }

        nav {
            background: var(--accent-blue);
            padding: 12px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 35px;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            padding: 8px 16px;
            border-radius: 20px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        nav a:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-2px);
        }

        nav a i {
            font-size: 14px;
        }

        main {
            max-width: 1300px;
            margin: 0 auto;
            padding: 40px 25px;
        }

        .hero {
            text-align: center;
            margin-bottom: 50px;
            position: relative;
        }

        .hero h2 {
            color: var(--primary-blue);
            font-size: 36px;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .hero p {
            color: #64748b;
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto 25px;
        }

        .divider {
            height: 4px;
            background: linear-gradient(90deg, transparent, var(--secondary-blue), transparent);
            width: 200px;
            margin: 0 auto 25px;
            border-radius: 2px;
        }

        .acesso-rapido {
            margin-bottom: 50px;
        }

        .acesso-rapido h3 {
            text-align: center;
            color: var(--primary-blue);
            font-size: 26px;
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }

        .acesso-rapido h3::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 25%;
            width: 50%;
            height: 3px;
            background: var(--secondary-blue);
            border-radius: 2px;
        }

        .botoes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .botao {
            background: linear-gradient(135deg, var(--secondary-blue) 0%, var(--accent-blue) 100%);
            color: white;
            border: none;
            padding: 25px 20px;
            font-size: 18px;
            font-weight: 600;
            text-align: center;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 120px;
            box-shadow: 0 6px 15px rgba(59, 130, 246, 0.3);
            position: relative;
            overflow: hidden;
        }

        .botao::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }

        .botao:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4);
        }

        .botao:hover::before {
            left: 100%;
        }

        .botao i {
            font-size: 28px;
            margin-bottom: 12px;
        }

        .servicos-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-top: 40px;
        }

        .servicos-coluna {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
            border-left: 5px solid var(--secondary-blue);
            transition: transform 0.3s ease;
        }

        .servicos-coluna:hover {
            transform: translateY(-5px);
        }

        .servicos-coluna h4 {
            color: var(--primary-blue);
            margin-bottom: 18px;
            font-size: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .servicos-coluna h4 i {
            color: var(--secondary-blue);
        }

        .servicos-coluna p {
            margin-bottom: 20px;
            color: #64748b;
            line-height: 1.7;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            border-top: 4px solid var(--secondary-blue);
        }

        .stat-number {
            font-size: 36px;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 8px;
        }

        .stat-label {
            color: #64748b;
            font-size: 14px;
            font-weight: 500;
        }

        /* ESTILOS PARA O CADASTRO - Interface melhorada */
        .cadastro-container {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid var(--gray-border);
        }

        .cadastro-header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--dark-blue) 100%);
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 24px;
            font-weight: 700;
            position: relative;
        }

        .cadastro-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #60a5fa, #93c5fd, #60a5fa);
        }

        .botoes-cadastro {
            display: flex;
            background: var(--gray-light);
            padding: 15px;
            gap: 12px;
            border-bottom: 1px solid var(--gray-border);
            flex-wrap: wrap;
        }

        .btn-cadastro {
            padding: 10px 20px;
            border: 1px solid #cbd5e1;
            background: white;
            cursor: pointer;
            font-size: 14px;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .btn-cadastro:hover {
            background: var(--light-blue);
            border-color: var(--secondary-blue);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .btn-cadastro.primary {
            background: var(--secondary-blue);
            color: white;
            border-color: var(--secondary-blue);
        }

        .secao-cadastro {
            border-bottom: 1px solid var(--gray-border);
            padding: 20px;
            background: var(--gray-light);
        }

        .secao-cadastro:nth-child(even) {
            background: white;
        }

        .secao-titulo {
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 15px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .secao-titulo i {
            color: var(--secondary-blue);
        }

        .linha-campos {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 15px;
        }

        .campo-grupo {
            display: flex;
            flex-direction: column;
        }

        .campo-label {
            font-size: 13px;
            color: #475569;
            margin-bottom: 8px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .campo-label.required::after {
            content: '*';
            color: var(--danger);
            margin-left: 4px;
        }

        .campo-input {
            padding: 12px;
            border: 1px solid #cbd5e1;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.2s ease;
            background: white;
        }

        .campo-input:focus {
            outline: none;
            border-color: var(--secondary-blue);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .checkbox-grupo {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            padding: 8px 12px;
            background: white;
            border-radius: 6px;
            border: 1px solid var(--gray-border);
        }

        .checkbox-grupo input[type="checkbox"] {
            transform: scale(1.2);
        }

        .checkbox-grupo label {
            font-size: 13px;
            color: #475569;
            font-weight: 500;
        }

        .rodape-cadastro {
            background: var(--primary-blue);
            color: white;
            padding: 15px 20px;
            font-size: 13px;
            border-top: 1px solid var(--gray-border);
            text-align: center;
            font-family: 'Courier New', monospace;
        }

        .mensagem {
            padding: 18px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .sucesso {
            background-color: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }

        .erro {
            background-color: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }

        .aviso {
            background-color: #fef3c7;
            color: #92400e;
            border: 1px solid #fde68a;
        }

        .dicas-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .dica {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
            border-top: 4px solid var(--secondary-blue);
        }

        .dica:hover {
            transform: translateY(-5px);
        }

        .dica h3 {
            color: var(--primary-blue);
            margin-bottom: 15px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .dica h3 i {
            color: var(--secondary-blue);
        }

        .dica ul {
            padding-left: 20px;
        }

        .dica li {
            margin-bottom: 8px;
            color: #475569;
        }

        footer {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--dark-blue) 100%);
            color: white;
            text-align: center;
            padding: 30px 0;
            margin-top: 60px;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .footer-content p {
            margin-bottom: 10px;
        }

        .footer-content .slogan {
            font-size: 18px;
            font-weight: 600;
            margin-top: 15px;
        }

        .links-uteis {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .links-uteis a {
            color: var(--secondary-blue);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 20px;
            background: white;
            border-radius: 25px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .links-uteis a:hover {
            background: var(--light-blue);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        @media (max-width: 768px) {
            .servicos-container {
                grid-template-columns: 1fr;
            }
            
            nav ul {
                flex-direction: column;
                gap: 10px;
                padding: 0 20px;
            }
            
            nav a {
                justify-content: center;
            }
            
            .botoes-grid {
                grid-template-columns: 1fr;
            }
            
            .linha-campos {
                grid-template-columns: 1fr;
            }
            
            .botoes-cadastro {
                justify-content: center;
            }
            
            .links-uteis {
                flex-direction: column;
                align-items: center;
            }
            
            .links-uteis a {
                width: 100%;
                max-width: 250px;
                justify-content: center;
            }
        }

        /* Animações */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Progress bar */
        .progress-container {
            width: 100%;
            background: var(--gray-border);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 8px;
            background: linear-gradient(90deg, var(--secondary-blue), var(--accent-blue));
            border-radius: 10px;
            transition: width 0.5s ease;
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-ribbon"></i> Novembro Azul</h1>
        <p class="ministerio">MINISTÉRIO DA SAÚDE</p>
        <div class="ribbon">
            <i class="fas fa-heartbeat"></i> Cuidar da saúde também é coisa de homem. Previna-se!
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="?pagina=inicio"><i class="fas fa-home"></i> Início</a></li>
            <li><a href="?pagina=sobre"><i class="fas fa-info-circle"></i> O que é</a></li>
            <li><a href="?pagina=exames"><i class="fas fa-stethoscope"></i> Exames</a></li>
            <li><a href="?pagina=dicas"><i class="fas fa-lightbulb"></i> Dicas</a></li>
            <li><a href="?pagina=contato"><i class="fas fa-envelope"></i> Contato</a></li>
        </ul>
    </nav>

    <main>
        <?php
        // Configurações do banco
        $servidor = "localhost";
        $usuario = "root";
        $senha = "";
        $banco = "novembro_azul";
        $porta = 3306;

        // Função para criar o banco e tabela automaticamente
        function criarBancoEAutomaticamente($servidor, $usuario, $senha, $banco, $porta) {
            $conn = new mysqli($servidor, $usuario, $senha, '', $porta);
            
            if ($conn->connect_error) {
                return "Erro na conexão: " . $conn->connect_error;
            }
            
            // Criar banco se não existir
            $sql = "CREATE DATABASE IF NOT EXISTS $banco";
            if (!$conn->query($sql)) {
                return "Erro ao criar banco: " . $conn->error;
            }
            
            // Selecionar o banco
            $conn->select_db($banco);
            
            // Criar tabela se não existir
            $sql = "CREATE TABLE IF NOT EXISTS pacientes (
                id INT AUTO_INCREMENT PRIMARY KEY,
                codigo VARCHAR(20) UNIQUE,
                nome VARCHAR(100) NOT NULL,
                cpf VARCHAR(14) UNIQUE NOT NULL,
                estado_civil VARCHAR(20),
                conjuge VARCHAR(100),
                nascimento_conjuge DATE,
                nome_mae VARCHAR(100),
                renda_familiar DECIMAL(10,2),
                tempo_residencia INT,
                casa_propria BOOLEAN DEFAULT false,
                nao_ligar_pos_venda BOOLEAN DEFAULT false,
                spc BOOLEAN DEFAULT false,
                pontuacao_fidelidade INT DEFAULT 0,
                beneficio_aposentado BOOLEAN DEFAULT false,
                vendedor VARCHAR(50),
                senha_atual VARCHAR(50),
                tipo_contribuinte VARCHAR(50),
                ie VARCHAR(20),
                suframa VARCHAR(20),
                conta_contabil VARCHAR(50),
                referencia1 VARCHAR(100),
                referencia2 VARCHAR(100),
                referencia3 VARCHAR(100),
                referencia4 VARCHAR(100),
                data_consulta DATE,
                data_cadastro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
            )";
            
            if (!$conn->query($sql)) {
                return "Erro ao criar tabela: " . $conn->error;
            }
            
            $conn->close();
            return "sucesso";
        }

        // Processar formulários
        $mensagem = '';
        $pagina = isset($_GET['pagina']) ? $_GET['pagina'] : 'inicio';

        if ($_SERVER['REQUEST_METHOD'] == 'POST') {
            if (isset($_POST['gravar'])) {
                // Gerar código automático
                $codigo = 'P' . date('YmdHis');
                $nome = trim($_POST['nome']);
                $cpf = preg_replace('/[^0-9]/', '', $_POST['cpf']);
                
                if (strlen($cpf) != 11) {
                    $mensagem = "❌ CPF deve conter 11 dígitos!";
                } else {
                    $cpf_formatado = substr($cpf, 0, 3) . '.' . substr($cpf, 3, 3) . '.' . substr($cpf, 6, 3) . '-' . substr($cpf, 9, 2);
                    
                    $resultado = criarBancoEAutomaticamente($servidor, $usuario, $senha, $banco, $porta);
                    
                    if ($resultado !== "sucesso") {
                        $mensagem = "❌ $resultado";
                    } else {
                        try {
                            $conn = new mysqli($servidor, $usuario, $senha, $banco, $porta);
                            
                            if ($conn->connect_error) {
                                throw new Exception("Erro na conexão: " . $conn->connect_error);
                            }
                            
                            // Coletar todos os dados do formulário
                            $estado_civil = $_POST['estado_civil'] ?? '';
                            $conjuge = $_POST['conjuge'] ?? '';
                            $nascimento_conjuge = $_POST['nascimento_conjuge'] ?? '';
                            $nome_mae = $_POST['nome_mae'] ?? '';
                            $renda_familiar = $_POST['renda_familiar'] ?? 0;
                            $tempo_residencia = $_POST['tempo_residencia'] ?? 0;
                            $casa_propria = isset($_POST['casa_propria']) ? 1 : 0;
                            $nao_ligar_pos_venda = isset($_POST['nao_ligar_pos_venda']) ? 1 : 0;
                            $spc = isset($_POST['spc']) ? 1 : 0;
                            $pontuacao_fidelidade = $_POST['pontuacao_fidelidade'] ?? 0;
                            $beneficio_aposentado = isset($_POST['beneficio_aposentado']) ? 1 : 0;
                            $vendedor = $_POST['vendedor'] ?? '';
                            $senha_atual = $_POST['senha_atual'] ?? '';
                            $tipo_contribuinte = $_POST['tipo_contribuinte'] ?? '';
                            $ie = $_POST['ie'] ?? '';
                            $suframa = $_POST['suframa'] ?? '';
                            $conta_contabil = $_POST['conta_contabil'] ?? '';
                            $referencia1 = $_POST['referencia1'] ?? '';
                            $referencia2 = $_POST['referencia2'] ?? '';
                            $referencia3 = $_POST['referencia3'] ?? '';
                            $referencia4 = $_POST['referencia4'] ?? '';
                            $data_consulta = $_POST['data_consulta'] ?? '';
                            
                            $sql = "INSERT INTO pacientes (
                                codigo, nome, cpf, estado_civil, conjuge, nascimento_conjuge, 
                                nome_mae, renda_familiar, tempo_residencia, casa_propria, 
                                nao_ligar_pos_venda, spc, pontuacao_fidelidade, beneficio_aposentado,
                                vendedor, senha_atual, tipo_contribuinte, ie, suframa, conta_contabil,
                                referencia1, referencia2, referencia3, referencia4, data_consulta
                            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)";
                            
                            $stmt = $conn->prepare($sql);
                            
                            if (!$stmt) {
                                throw new Exception("Erro ao preparar query: " . $conn->error);
                            }
                            
                            $stmt->bind_param(
                                "sssssssdiiiiissssssssssss", 
                                $codigo, $nome, $cpf_formatado, $estado_civil, $conjuge, $nascimento_conjuge,
                                $nome_mae, $renda_familiar, $tempo_residencia, $casa_propria,
                                $nao_ligar_pos_venda, $spc, $pontuacao_fidelidade, $beneficio_aposentado,
                                $vendedor, $senha_atual, $tipo_contribuinte, $ie, $suframa, $conta_contabil,
                                $referencia1, $referencia2, $referencia3, $referencia4, $data_consulta
                            );
                            
                            if ($stmt->execute()) {
                                $mensagem = "✅ Cadastro realizado com sucesso! Código: $codigo";
                                $pagina = 'dicas';
                            } else {
                                if ($conn->errno == 1062) {
                                    $mensagem = "⚠️ Este CPF já está cadastrado no sistema.";
                                } else {
                                    throw new Exception("Erro ao cadastrar: " . $conn->error);
                                }
                            }
                            
                            $stmt->close();
                            $conn->close();
                            
                        } catch (Exception $e) {
                            $mensagem = "❌ " . $e->getMessage();
                        }
                    }
                }
            }
        }

        // Exibir mensagens
        if ($mensagem) {
            $classe_mensagem = strpos($mensagem, '✅') !== false ? 'sucesso' : 
                              (strpos($mensagem, '⚠️') !== false ? 'aviso' : 'erro');
            echo "<div class='mensagem $classe_mensagem fade-in'>$mensagem</div>";
        }
        ?>

        <?php if ($pagina == 'inicio'): ?>
            <section class="hero fade-in">
                <h2>Serviços da Campanha Novembro Azul</h2>
                <p>Promovendo a saúde masculina e a prevenção do câncer de próstata através de informação e conscientização</p>
                <div class="divider"></div>
            </section>

            <div class="stats-container fade-in">
                <div class="stat-card">
                    <div class="stat-number">+5.000</div>
                    <div class="stat-label">Homens conscientizados</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">89%</div>
                    <div class="stat-label">Aderência aos exames</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">+300</div>
                    <div class="stat-label">Consultas agendadas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">Suporte disponível</div>
                </div>
            </div>

            <section class="acesso-rapido fade-in">
                <h3>ACESSO RÁPIDO</h3>
                <div class="botoes-grid">
                    <a href="?pagina=cadastro" class="botao">
                        <i class="fas fa-user-plus"></i>
                        CADASTRAR MEUS DADOS
                    </a>
                    <a href="?pagina=agendamento" class="botao">
                        <i class="fas fa-calendar-check"></i>
                        AGENDAR CONSULTA
                    </a>
                    <a href="?pagina=dicas" class="botao">
                        <i class="fas fa-heartbeat"></i>
                        VER DICAS DE PREVENÇÃO
                    </a>
                </div>
            </section>

            <section class="servicos-container fade-in">
                <div class="servicos-coluna">
                    <h4><i class="fas fa-id-card"></i> Cadastrar Meus Dados</h4>
                    <p>Registre suas informações para acompanhamento personalizado da sua saúde e receba alertas importantes.</p>
                    
                    <h4><i class="fas fa-calendar-alt"></i> Agendamento de Consultas</h4>
                    <p>Marque sua consulta preventiva com um urologista de forma rápida e descomplicada.</p>
                    
                    <h4><i class="fas fa-chart-line"></i> Dados e Estudos</h4>
                    <p>Acompanhe informações atualizadas e estatísticas sobre saúde masculina no Brasil.</p>
                </div>
                
                <div class="servicos-coluna">
                    <h4><i class="fas fa-lightbulb"></i> Ver Dicas de Prevenção</h4>
                    <p>Informações essenciais para cuidar da sua saúde e prevenir doenças de forma proativa.</p>
                    
                    <h4><i class="fas fa-family"></i> Histórico Familiar</h4>
                    <p>Registre e acompanhe informações sobre saúde da família para melhor avaliação de risco.</p>
                    
                    <h4><i class="fas fa-question-circle"></i> Perguntas e Respostas</h4>
                    <p>Tire suas dúvidas sobre câncer de próstata com nossa equipe de especialistas.</p>
                </div>
            </section>

        <?php elseif ($pagina == 'cadastro'): ?>
            <div class="cadastro-container fade-in">
                <div class="cadastro-header">
                    <i class="fas fa-user-plus"></i> Cadastro de Pacientes - Novembro Azul
                </div>
                
                <div class="botoes-cadastro">
                    <button class="btn-cadastro" onclick="novoCadastro()">
                        <i class="fas fa-file"></i> Novo
                    </button>
                    <button type="submit" form="form-cadastro" class="btn-cadastro primary">
                        <i class="fas fa-save"></i> Gravar
                    </button>
                    <button class="btn-cadastro" onclick="excluirCadastro()">
                        <i class="fas fa-trash"></i> Excluir
                    </button>
                    <button class="btn-cadastro" onclick="abrirFicha()">
                        <i class="fas fa-file-medical"></i> Ficha
                    </button>
                    <button class="btn-cadastro" onclick="fecharCadastro()">
                        <i class="fas fa-times"></i> Fechar
                    </button>
                </div>

                <form id="form-cadastro" method="POST">
                    <!-- Seção Código e Dados Básicos -->
                    <div class="secao-cadastro">
                        <div class="secao-titulo">
                            <i class="fas fa-id-card"></i> Código e Dados Básicos
                        </div>
                        <div class="linha-campos">
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-hashtag"></i> Código
                                </label>
                                <input type="text" class="campo-input" value="Auto gerado" readonly style="background: #f1f5f9;">
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label required">
                                    <i class="fas fa-user"></i> Nome Completo
                                </label>
                                <input type="text" name="nome" class="campo-input" placeholder="Digite seu nome completo" required>
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label required">
                                    <i class="fas fa-address-card"></i> CPF
                                </label>
                                <input type="text" name="cpf" class="campo-input" maxlength="14" placeholder="000.000.000-00" required>
                            </div>
                        </div>
                    </div>

                    <!-- Seção Dados Básicos -->
                    <div class="secao-cadastro">
                        <div class="secao-titulo">
                            <i class="fas fa-info-circle"></i> Dados da Consulta
                        </div>
                        <div class="linha-campos">
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-calendar-day"></i> Data da Consulta
                                </label>
                                <input type="date" name="data_consulta" class="campo-input">
                            </div>
                        </div>
                    </div>

                    <!-- Seção Estado Civil -->
                    <div class="secao-cadastro">
                        <div class="secao-titulo">
                            <i class="fas fa-heart"></i> Estado Civil
                        </div>
                        <div class="linha-campos">
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-ring"></i> Estado Civil
                                </label>
                                <select name="estado_civil" class="campo-input">
                                    <option value="">Selecione</option>
                                    <option value="Solteiro">Solteiro</option>
                                    <option value="Casado">Casado</option>
                                    <option value="Divorciado">Divorciado</option>
                                    <option value="Viúvo">Viúvo</option>
                                </select>
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-user-friends"></i> Cônjuge
                                </label>
                                <input type="text" name="conjuge" class="campo-input" placeholder="Nome do cônjuge">
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-birthday-cake"></i> Nascimento Cônjuge
                                </label>
                                <input type="date" name="nascimento_conjuge" class="campo-input">
                            </div>
                        </div>
                    </div>

                    <!-- Seção Dados Familiares -->
                    <div class="secao-cadastro">
                        <div class="secao-titulo">
                            <i class="fas fa-home"></i> Dados Familiares
                        </div>
                        <div class="linha-campos">
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-female"></i> Nome da Mãe
                                </label>
                                <input type="text" name="nome_mae" class="campo-input" placeholder="Nome completo da mãe">
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-money-bill-wave"></i> Renda Familiar
                                </label>
                                <input type="number" name="renda_familiar" class="campo-input" step="0.01" value="0.00" min="0">
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-clock"></i> Tempo de Residência (anos)
                                </label>
                                <input type="number" name="tempo_residencia" class="campo-input" value="0" min="0">
                            </div>
                        </div>
                        <div class="linha-campos">
                            <div class="checkbox-grupo">
                                <input type="checkbox" name="casa_propria" id="casa_propria">
                                <label for="casa_propria">Casa Própria</label>
                            </div>
                            <div class="checkbox-grupo">
                                <input type="checkbox" name="nao_ligar_pos_venda" id="nao_ligar_pos_venda">
                                <label for="nao_ligar_pos_venda">Não Ligar em Pós-Venda</label>
                            </div>
                            <div class="checkbox-grupo">
                                <input type="checkbox" name="spc" id="spc">
                                <label for="spc">SPC</label>
                            </div>
                        </div>
                    </div>

                    <!-- Seção Pontuação e Benefícios -->
                    <div class="secao-cadastro">
                        <div class="secao-titulo">
                            <i class="fas fa-star"></i> Pontuação e Benefícios
                        </div>
                        <div class="linha-campos">
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-chart-line"></i> Pontuação Fidelidade
                                </label>
                                <input type="number" name="pontuacao_fidelidade" class="campo-input" value="0" min="0">
                            </div>
                            <div class="checkbox-grupo">
                                <input type="checkbox" name="beneficio_aposentado" id="beneficio_aposentado">
                                <label for="beneficio_aposentado">Benefício Aposentado</label>
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-user-tie"></i> Vendedor/Responsável
                                </label>
                                <input type="text" name="vendedor" class="campo-input" placeholder="Nome do responsável">
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-lock"></i> Senha Atual
                                </label>
                                <input type="password" name="senha_atual" class="campo-input" placeholder="Digite sua senha">
                            </div>
                        </div>
                    </div>

                    <!-- Seção Tipo Contribuinte -->
                    <div class="secao-cadastro">
                        <div class="secao-titulo">
                            <i class="fas fa-file-invoice-dollar"></i> Tipo Contribuinte
                        </div>
                        <div class="linha-campos">
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-balance-scale"></i> Tipo Contribuinte
                                </label>
                                <select name="tipo_contribuinte" class="campo-input">
                                    <option value="">Selecione</option>
                                    <option value="Não Contribuinte ICMS/Pessoa Física">Não Contribuinte ICMS/Pessoa Física</option>
                                    <option value="Contribuinte ICMS">Contribuinte ICMS</option>
                                </select>
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-stamp"></i> IE
                                </label>
                                <input type="text" name="ie" class="campo-input" placeholder="Inscrição Estadual">
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-certificate"></i> SUFRAMA
                                </label>
                                <input type="text" name="suframa" class="campo-input" placeholder="Código SUFRAMA">
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-calculator"></i> Conta Contábil
                                </label>
                                <input type="text" name="conta_contabil" class="campo-input" placeholder="Número da conta">
                            </div>
                        </div>
                    </div>

                    <!-- Seção Referências -->
                    <div class="secao-cadastro">
                        <div class="secao-titulo">
                            <i class="fas fa-users"></i> Referências
                        </div>
                        <div class="linha-campos">
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-user-check"></i> Referência 1
                                </label>
                                <input type="text" name="referencia1" class="campo-input" placeholder="Nome da referência">
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-user-check"></i> Referência 2
                                </label>
                                <input type="text" name="referencia2" class="campo-input" placeholder="Nome da referência">
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-user-check"></i> Referência 3
                                </label>
                                <input type="text" name="referencia3" class="campo-input" placeholder="Nome da referência">
                            </div>
                            <div class="campo-grupo">
                                <label class="campo-label">
                                    <i class="fas fa-user-check"></i> Referência 4
                                </label>
                                <input type="text" name="referencia4" class="campo-input" placeholder="Nome da referência">
                            </div>
                        </div>
                    </div>

                    <input type="hidden" name="gravar" value="1">
                </form>

                <div class="rodape-cadastro">
                    <i class="fas fa-keyboard"></i> NOVEMBRO AZUL | F2-Consultar F4-Gravar F5-Ficha F6-Imprimir F7-Bairros F8-Email F11-Razão F12-Títulos
                </div>
            </div>

            <div class="links-uteis">
                <a href="?pagina=agendamento">
                    <i class="fas fa-calendar-plus"></i> Agendar Consulta
                </a>
                <a href="?pagina=dicas">
                    <i class="fas fa-heartbeat"></i> Ver Dicas de Prevenção
                </a>
                <a href="?pagina=inicio">
                    <i class="fas fa-home"></i> Voltar ao Início
                </a>
            </div>

            <script>
                function novoCadastro() {
                    document.getElementById('form-cadastro').reset();
                    showNotification('Novo cadastro iniciado!', 'success');
                }

                function excluirCadastro() {
                    if(confirm('Tem certeza que deseja excluir este cadastro?')) {
                        showNotification('Cadastro excluído com sucesso!', 'success');
                    }
                }

                function abrirFicha() {
                    showNotification('Ficha do paciente aberta!', 'info');
                }

                function fecharCadastro() {
                    window.location.href = '?pagina=inicio';
                }

                // Formatação automática do CPF
                document.querySelector('input[name="cpf"]').addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    if (value.length <= 11) {
                        value = value.replace(/(\d{3})(\d)/, '$1.$2');
                        value = value.replace(/(\d{3})(\d)/, '$1.$2');
                        value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
                        e.target.value = value;
                    }
                });

                // Sistema de notificações
                function showNotification(message, type) {
                    const notification = document.createElement('div');
                    notification.className = `mensagem ${type} fade-in`;
                    notification.style.position = 'fixed';
                    notification.style.top = '20px';
                    notification.style.right = '20px';
                    notification.style.zIndex = '1000';
                    notification.style.maxWidth = '300px';
                    notification.innerHTML = `
                        <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'exclamation' : 'info'}-circle"></i>
                        ${message}
                    `;
                    
                    document.body.appendChild(notification);
                    
                    setTimeout(() => {
                        notification.remove();
                    }, 4000);
                }

                // Validação de formulário
                document.getElementById('form-cadastro').addEventListener('submit', function(e) {
                    const cpf = document.querySelector('input[name="cpf"]').value;
                    const nome = document.querySelector('input[name="nome"]').value;
                    
                    if (!nome.trim()) {
                        e.preventDefault();
                        showNotification('Por favor, preencha o campo Nome!', 'error');
                        return;
                    }
                    
                    if (cpf.replace(/\D/g, '').length !== 11) {
                        e.preventDefault();
                        showNotification('CPF deve conter 11 dígitos!', 'error');
                        return;
                    }
                });
            </script>

        <?php elseif ($pagina == 'dicas'): ?>
            <div class="fade-in">
                <h2 style="text-align: center; color: var(--primary-blue); margin-bottom: 15px;">
                    <i class="fas fa-heartbeat"></i> Dicas de Prevenção
                </h2>
                <p style="text-align: center; margin-bottom: 30px; font-size: 18px; color: #64748b;">
                    Informações importantes sobre saúde masculina e prevenção do câncer de próstata
                </p>
                
                <div class="progress-container">
                    <div class="progress-bar" style="width: 85%"></div>
                </div>
                
                <div class="dicas-container">
                    <div class="dica">
                        <h3><i class="fas fa-prostate"></i> O que é o Câncer de Próstata?</h3>
                        <p>O câncer de próstata é o tumor que afeta a próstata, glândula localizada abaixo da bexiga e que envolve a uretra. É o segundo tipo de câncer mais comum entre homens no Brasil.</p>
                    </div>
                    
                    <div class="dica">
                        <h3><i class="fas fa-exclamation-triangle"></i> Sintomas</h3>
                        <ul>
                            <li>Dificuldade de urinar</li>
                            <li>Diminuição do jato de urina</li>
                            <li>Necessidade de urinar mais vezes</li>
                            <li>Sangue na urina</li>
                            <li>Dor óssea na fase avançada</li>
                        </ul>
                    </div>
                    
                    <div class="dica">
                        <h3><i class="fas fa-clipboard-list"></i> Fatores de Risco</h3>
                        <ul>
                            <li>Idade (maior risco a partir dos 50 anos)</li>
                            <li>Histórico familiar</li>
                            <li>Obesidade</li>
                            <li>Alimentação rica em gordura</li>
                            <li>Exposição a produtos químicos</li>
                        </ul>
                    </div>
                    
                    <div class="dica">
                        <h3><i class="fas fa-shield-alt"></i> Prevenção</h3>
                        <ul>
                            <li>Manter uma alimentação saudável</li>
                            <li>Praticar atividades físicas</li>
                            <li>Manter o peso adequado</li>
                            <li>Não fumar</li>
                            <li>Realizar exames periódicos</li>
                        </ul>
                    </div>
                    
                    <div class="dica">
                        <h3><i class="fas fa-stethoscope"></i> Exames Importantes</h3>
                        <ul>
                            <li><strong>Toque retal:</strong> Exame rápido e indolor</li>
                            <li><strong>PSA:</strong> Exame de sangue específico</li>
                            <li><strong>Biópsia:</strong> Quando há suspeita</li>
                            <li><strong>Ultrassom:</strong> Para avaliação complementar</li>
                        </ul>
                    </div>
                    
                    <div class="dica">
                        <h3><i class="fas fa-calendar-check"></i> Quando fazer os exames?</h3>
                        <p><strong>Homens sem fatores de risco:</strong> A partir dos 50 anos, devem procurar um urologista anualmente.</p>
                        <p><strong>Homens com histórico familiar:</strong> A recomendação é a partir dos 45 anos.</p>
                        <p><strong>Homens da raça negra:</strong> Devem começar aos 45 anos.</p>
                    </div>
                </div>
                
                <div class="links-uteis">
                    <a href="?pagina=cadastro">
                        <i class="fas fa-user-plus"></i> Cadastrar Dados
                    </a>
                    <a href="?pagina=agendamento">
                        <i class="fas fa-calendar-plus"></i> Agendar Consulta
                    </a>
                    <a href="?pagina=inicio">
                        <i class="fas fa-home"></i> Voltar ao Início
                    </a>
                </div>
            </div>

        <?php endif; ?>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2024 Ministério da Saúde - Campanha Novembro Azul</p>
            <p><i class="fas fa-phone"></i> Disque Saúde: 136 | <i class="fas fa-globe"></i> www.gov.br/saude</p>
            <p class="slogan">Cuidar da saúde também é coisa de homem. Previna-se!</p>
        </div>
    </footer>
</body>
</html>
